{% extends 'stuff/base.html' %}

{% load static %}

{% block content-block %}

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3">
            <!-- Birthday this week -->
            <div>
                <h3>Дни рождения на этой неделе</h3>
                {% if students_coming_birthdays_this_week or teachers_coming_birthdays_this_week %}
                    {% if students_coming_birthdays_this_week %}
                        <h4>Дни рождения студентов</h4>
                        {% for student in students_coming_birthdays_this_week %}
                            <strong>{% if student.first_name %}{{ student.first_name }}{% else %}{% endif %} {% if student.last_name %}{{ student.last_name }}{% else %}{% endif %} {{ student.birthday }}</strong>
                            <p>{% if student.parent_first_name %}{{ student.parent_first_name }}{% else %}{% endif %} {% if student.parent_last_name %}{{ student.parent_last_name }}{% else %}{% endif %}
                            {% if student.contact %}{{ student.contact }}{% else %}{{ student.parent_contact }}{% endif %}</p>
                        {% endfor %}
                    {% endif %}
                    {% if teachers_coming_birthdays_this_week %}
                        <h4>Дни рождения сотрудников</h4>
                        {% for teacher in teachers_coming_birthdays_this_week %}
                            <strong>{% if teacher.first_name %}{{ teacher.first_name }}{% else %}{% endif %} {% if teacher.last_name %}{{ teacher.last_name }}{% else %}{% endif %} {{ teacher.birthday }}</strong>
                            <p>{% if teacher.contact %}{{ teacher.contact }}{% else %}{% endif %}</p>
                        {% endfor %}
                    {% endif %}
                {% else %}
                    <p>На этой неделе никто не празднует&#128533;</p>
                {% endif %}
            </div>

            <!-- Birthday next week -->
            <div>
                {% if students_coming_birthdays_next_week or teachers_coming_birthdays_next_week %}
                    <h3>Дни рождения на следующей неделе</h3>
                    {% if students_coming_birthdays_next_week %}
                        <h4>Дни рождения студентов</h4>
                        {% for student in students_coming_birthdays_next_week %}
                            <strong>{% if student.first_name %}{{ student.first_name }}{% else %}{% endif %} {% if student.last_name %}{{ student.last_name }}{% else %}{% endif %} {{ student.birthday }}</strong>
                            <p>{% if student.parent_first_name %}{{ student.parent_first_name }}{% else %}{% endif %} {% if student.parent_last_name %}{{ student.parent_last_name }}{% else %}{% endif %}
                            {% if student.contact %}{{ student.contact }}{% else %}{{ student.parent_contact }}{% endif %}</p>
                        {% endfor %}
                    {% endif %}
                    {% if teachers_coming_birthdays_next_week %}
                        <h4>Дни рождения сотрудников</h4>
                        {% for teacher in teachers_coming_birthdays_next_week %}
                            <strong>{% if teacher.first_name %}{{ teacher.first_name }}{% else %}{% endif %} {% if teacher.last_name %}{{ teacher.last_name }}{% else %}{% endif %} {{ teacher.birthday }}</strong>
                            <p>{% if teacher.contact %}{{ teacher.contact }}{% else %}{% endif %}</p>
                        {% endfor %}
                    {% endif %}
                {% endif %}
            </div>
        </div>

        <!-- Main section -->
        <div class="col-md-9">
            <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="#teachers_list" aria-controls="teachers_list" role="tab" data-toggle="tab">Преподаватели</a></li>
                <li role="presentation"><a href="#students_list" aria-controls="students_list" role="tab" data-toggle="tab">Студенты</a></li>
            </ul>

            <div class="tab-content">
                <!-- Teachers section -->
                <div class="tab-pane in active fade person_list" role="tabpanel" id="teachers_list">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>first name</th>
                                <th>last name</th>
                                <th>contact</th>
                                <th>birthday</th>
                                <th><span class="glyphicon glyphicon-zoom-in"></span></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for teacher in teachers %}
                            <tr>
                                <td>{% if teacher.first_name %}{{ teacher.first_name }}{% else %}{% endif %}</td>
                                <td>{% if teacher.last_name %}{{ teacher.last_name }}{% else %}{% endif %}</td>
                                <td>{% if teacher.contact %}{{ teacher.contact }}{% else %}{% endif %}</td>
                                <td>{% if teacher.birthday %}{{ teacher.birthday }}{% else %}{% endif %}</td>
                                <td><a href="/teacher/{{ teacher.id }}"><span class="glyphicon glyphicon-arrow-right"></span></a></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- Students section -->
                <div class="tab-pane fade person_list" role="tabpanel" id="students_list">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>first name</th>
                                <th>last name</th>
                                <th>contact</th>
                                <th>birthday</th>
                                <th>parent_first_name</th>
                                <th>parent_last_name</th>
                                <th>parent_contact</th>
                                <th><span class="glyphicon glyphicon-zoom-in"></span></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for student in students %}
                            <tr>
                                <td>{% if student.first_name %}{{ student.first_name }}{% else %}{% endif %}</td>
                                <td>{% if student.last_name %}{{ student.last_name }}{% else %}{% endif %}</td>
                                <td>{% if student.contact %}{{ student.contact }}{% else %}{% endif %}</td>
                                <td>{% if student.birthday %}{{ student.birthday }}{% else %}{% endif %}</td>
                                <td>{% if student.parent_first_name %}{{ student.parent_first_name }}{% else %}{% endif %}</td>
                                <td>{% if student.parent_last_name %}{{ student.parent_last_name }}{% else %}{% endif %}</td>
                                <td>{% if student.parent_contact %}{{ student.parent_contact }}{% else %}{% endif %}</td>
                                <td><a href="/student/{{ student.id }}"><span class="glyphicon glyphicon-arrow-right"></span></a></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal window section -->
<!-- <div class="container modalBack">
    <div class="row modalActive">
        <div class="modalClose">
            <img src="{% static 'images/icon-cross.png' %}" />
        </div>
        <div class="one-half column modalWindow"></div>
    </div>
</div> -->

{% endblock %}